


```sql
-- (Same SQL from previous response)
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";

CREATE TABLE types (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  name TEXT NOT NULL UNIQUE,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE TABLE entries (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  type_id UUID NOT NULL REFERENCES types(id) ON DELETE CASCADE,
  content TEXT NOT NULL,
  status TEXT DEFAULT 'pending' CHECK (status IN ('pending', 'processed', 'archived')),
  created_at TIMESTAMPTZ DEFAULT NOW(),
  modified_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE INDEX idx_entries_status_type ON entries(status, type_id);

CREATE TABLE reports (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  summary TEXT NOT NULL,
  markdown_content TEXT NOT NULL,
  entry_ids UUID[] NOT NULL,
  status TEXT DEFAULT 'processed' CHECK (status IN ('processed', 'done')),
  created_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE OR REPLACE FUNCTION update_modified_at()
RETURNS TRIGGER AS $$
BEGIN
  NEW.modified_at = NOW();
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER entries_modified_at
BEFORE UPDATE ON entries
FOR EACH ROW
EXECUTE FUNCTION update_modified_at();

INSERT INTO types (name) VALUES 
  ('University Research'),
  ('AI Research'),
  ('News Articles'),
  ('Documentation');
```